
# Desfazendo alteraÃ§Ãµes no repositÃ³rio local

VocÃª jÃ¡ sabe como criar alteraÃ§Ãµes e salvÃ¡-las, nada mais Ãºtil do que aprender a desfazer essas alteraÃ§Ãµes.

## ğŸ® Comandos

` rm -rf (pasta/arquivo)` - Remove a forÃ§a a pasta ou arquivo

`$ git restore (arquivo)` - Restaura o arquivo para a versÃ£o dele do Ãºltimo commit

`$ git commit --amend -m"nome do commit"` - Altera o nome do Ãºltimo commit

`$ git reset <hash do commit>` - Retorna para o commit apontado pelo hash

`$ git reflog` - Demonstra o historico de commits com todas as alteraÃ§Ãµes feitas

## ğŸ–¥ Desfazendo alteraÃ§Ãµes

VocÃª estÃ¡ evoluindo, e sabe como fazer alteraÃ§Ãµes no seu repositÃ³rio local bem como salva-las, entretanto por muitas vezes Ã© essencial saber como desfazer essas alteraÃ§Ãµes.

### Exemplo

### Desfazendo o git init
Seu primeiro erro foi ter iniciado o repositÃ³rio local em uma pasta errada. Sua missÃ£o agora Ã© abrir o GIT na pasta, e usar o comando abaixo para excluir o .git e desfazer esse erro.

`rm -rf .git`

#### Alterando o nome do commit
Agora que vocÃª iniciou seu GIT na pasta correta, vocÃª percebeu que criou o primeiro commit com um nome aleatorio sem querer, e deseja troca-lo para "initial". Para corrigir o nome, use o comando abaixo antes de iniciar um novo commit.

`$ git commit --amend -m"initial"`

### Desfazendo alteraÃ§Ãµes em arquivos
VocÃª percebeu que apÃ³s alterar um arquivo chamado feature.txt na pasta features, vocÃª irÃ¡ precisar da sua versÃ£o sem as alteraÃ§Ãµes, e sabendo que essa versÃ£o estava no commit anterior, vocÃª usarÃ¡ o comando a seguir:

`$ git restore features/feature.txt`

### Voltando para um commit anterior

Por diversos motivos vocÃª precisa voltar para um commit anterior, e para retornar para o commit desejado, vocÃª precisarÃ¡ saber seu hash, que vocÃª pode encontrar utilizando o comando `$ git log`

![hash do commit](./images/hashdocommit.PNG)

Agora que vocÃª jÃ¡ tem o hash do commit desejado, vocÃª tem trÃªs opÃ§Ãµes de comandos para utilizar, sendo que cada um tem sua finalidade.
```
$ git reset <hash do commit>
$ git reset --soft <hash do commit>
$ git reset --hard <hash do commit>
```
O reset padrÃ£o faz com que todos os arquivos/pastas criados apÃ³s o commit de retorno sejam esquecidos, podendo eles serem adicionados a Ã¡rea de preparaÃ§Ã£o ou excluidos.

Ao utilizar o comando `$ git reset --soft`, seus arquivos posteriores ao commit de retorno seram adicionados a Ã¡rea de prepraÃ§Ã£o automaticamente.

Utilizando o `$ git reset --hard`, seus arquivos posteriores ao commit de retorno serÃ£o excluidos. Tenha **cuidado** ao usar esse reset.

### Modificando a Ã¡rea de preparaÃ§Ã£o
VocÃª optou por usar o `$ git reset --soft` e seu arquivo feature.txt foi diretamente para a Ã¡rea de preparaÃ§Ã£o do commit a qual vocÃª retornou.

![hash do commit](./images/areadepreparacao.PNG)

Entretanto vocÃª percebeu que necessita retirar esse arquivo da Ã¡rea de preparaÃ§Ã£o, logo vocÃª pode usar qualquer um dos dois cÃ³digos abaixo:

```
$ git reset features/feature.txt
$ git restore --staged features/feature.txt

```

## ğŸ“– Outras informaÃ§Ãµes

- `git reset <hash do commit>` Ã© o mesmo que utilizar o comando `git reset --mixed <hash do commit>`
